<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    
    <script type="text/javascript" src="../data/dados_teste.json"></script>

    <script type="text/javascript">

        google.charts.load('current', {'packages':['corechart']});
        google.charts.setOnLoadCallback(drawChart);

        function drawChart(elemento, linhas, nota_aluno, tamanho) {

            var tabela = new google.visualization.DataTable();
            tabela.addColumn('string', 'Datas');
            tabela.addColumn('number', 'Notas');
            tabela.addColumn('number', 'Sua Nota');

            //console.log(linhas)
            //console.log(linhas.length)

            lista_linhas = []
            for (y=0; y<tamanho; y++) {
                lista_linhas.push([linhas[y][0], linhas[y][1], nota_aluno])
            }
            tabela.addRows(lista_linhas);

            var options = {
                backgroundColor: { fill:'transparent' },
                chart: {title: '', subtitle: ''},
                legendTextStyle: { color:'#FFF', bold: true },
                pointSize: 10,
                lineWidth: 5,
                series: { 1: {pointSize: 0}},
                vAxis: { textStyle: {color: '#fff'} },
                hAxis: { gridlines: {color: 'none', count: tamanho}, format: 'dd/MM/yyyy', textStyle:{color: '#FFF'} },
                legend: { alignment:'center' },
                chartArea: { backgroundColor: {fill: 'transparent'}, width: '70%' },
                colors: ['#e2e222', '#FF0080'],
                crosshair: { trigger: 'both', orientation: 'both' }
            };

            var chart = new google.visualization.LineChart(document.getElementById(elemento));
            chart.draw(tabela, options)
        }

        function startCharts() {
            
            var dados = JSON.parse(data);
            //console.log(dados)
            for (x=0; x < dados.length; x++) {
                //console.log(dados[x])
                drawChart(dados[x]['elemento'], dados[x]['linhas'], aluno, dados[x]['linhas'].length)   
            }
        }
        
    </script>
</head>
<body style="background: #131313;" onload="startCharts()">
    <div id="elem1"  style="width: 70vw; height: 300px; margin: auto;"></div>
    <div id="elem2"  style="width: 70vw; height: 300px; margin: auto;"></div>
</body>
</html>
